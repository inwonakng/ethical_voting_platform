<!doctype html>
<html>
<head>
  <title>Ethical AI</title>
  {% load static %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/idx.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/stylish-portfolio.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/shared.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/introjs.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/font-awesome.min.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/my_polls.css' %}" />
  <link rel="stylesheet" type="text/css" href="{% static 'css/rule_creation.css' %}">

  <link rel="stylesheet" type="text/css" href="{% static 'css/votingsim.css' %}"/>
  <link rel="stylesheet" type="text/css" href="{% static 'css/survey-info.css' %}"/>

  <!-- let's stick with the updated bootstrap version -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

  <script type="text/javascript" src="{% static '/scripts/jquery-3.5.1.min.js' %}"></script>
  <script type="text/javascript" src="{% static '/scripts/jquery-ui.min.js' %}"></script>

  <!-- CDNs for ChartJS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
  
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" integrity="sha256-aa0xaJgmK/X74WM224KMQeNQC2xYKwlAt08oZqjeF0E=" crossorigin="anonymous" /> -->
  
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0/dist/chartjs-plugin-datalabels.min.js"></script>

  <!-- palette.js for use in chart -->
  <script type="text/javascript" src="{% static '/scripts/palette.js' %}" crossorigin="anonymous"></script>

  <!-- CDNs for toast notifications -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.4/toastr.min.js"></script>
  <link rel="stylesheet" type="text/css" href="{% static 'css/toastr.min.css' %}">

  <script type="text/javascript" src="{% static '/scripts/idx_main2.js' %}"></script>
</head>
<body>
  
  <nav>
    <li><a href="http://127.0.0.1:8000/">Voting Platform</a></li>
    <li><a href="http://127.0.0.1:8000/about">About</a></li>
    <li><a href="{% url 'survey:rules' %}">Create</a></li>
    <li><a href="{% url 'votingsim:start' %}">Try Voting Rules</a></li>
    {% if not request.user.is_authenticated %}
      <li><a href="" data-bs-toggle="modal" data-bs-target="#registerPopUp">Register</a></li>
      <li><a href="" data-bs-toggle="modal" data-bs-target="#loginPopUp">Login</a></li>
    {% else %}
      <li><a href="{% url 'survey:logout' %}">Logout</a></li>
    {% endif %}
  </nav>

  {% if messages %}
    {% for message in messages %}
      {% if message.tags == 'success'%}
        <script type=text/javascript>toastr.{{ message.tags }}('{{ message }}')</script>
      {% elif message.tags == 'info' %}
        <script type=text/javascript>toastr.{{ message.tags }}('{{ message }}')</script>
      {% elif message.tags == 'warning' %}
        <script type=text/javascript>toastr.{{ message.tags }}('{{ message }}')</script>
      {% elif message.tags == 'error' %}
        <script type=text/javascript>toastr.{{ message.tags }}('{{ message }}')</script>
      {% endif %}
    {% endfor %}
  {% endif %}

    
  <div class="main">
  {% block content %}
  {% endblock %}
  </div>

  {% if not request.user.is_authenticated %}
    {% include 'survey/register.html' %}
    {% include 'survey/login.html' %}
  {% else %}
    
  {% endif %}

</body>
</html>
